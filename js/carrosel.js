var Wapp=Wapp||{};!function(t,e,a){"use strict";var r={carrossel:".carrosselniced",block:".carrosselniced .block",content:".carrosselniced .block .content",control:".carrosselniced .control",bullet:".carrosselniced .bullet",bulletButton:".carrosselniced .bullet button",line:".carrosselniced .block .content",amount:t(".carrosselniced .block ul").length,list:".carrosselniced .block .content li",width:0,height:0,margin:0,prev:".prev",next:".next",buttonHeight:30,count:0,interval:{},animateClass:[]};Wapp.carrosselNiced={},Wapp.carrosselNiced.Init=function(e){e===!0&&(console.log("Wapp: ",Wapp),console.log("Wobj: ",r),console.log("-----------------------------------------")),t(".helperComplement").remove(),t(".carrosselniced ul li li").remove(),setTimeout(function(){Wapp.carrosselNiced.CreateId(),Wapp.carrosselNiced.Listen()},200)},Wapp.carrosselNiced.Listen=function(){t(e).on("click",r.prev,Wapp.carrosselNiced.PrevSet),t(e).on("click",r.next,Wapp.carrosselNiced.NextSet),t(a).on("resize",Wapp.carrosselNiced.Resize),t(e).on("click",r.bulletButton,Wapp.carrosselNiced.ChangeBullet)},Wapp.carrosselNiced.Resize=function(){r.count=1,Wapp.carrosselNiced.CreateId()},Wapp.carrosselNiced.CreateId=function(){t(r.carrossel).each(function(e){t(this).removeAttr("id"),t(this).attr("id","cn"+e),Wapp.carrosselNiced.Create("#cn"+e,t(this).attr("data-view"))})},Wapp.carrosselNiced.Create=function(e,a){var n=t(e+" .content li").length,o=t(e+" .content li").first(),s=t(e+" .content li")[0],c=t(o).outerWidth(!0)-t(o).width()+1,l=t(e+" .block .content"),i=t(e+" .content li"),d=parseInt(a,0),p=t(e).closest(t(e).attr("data-grid")),u=parseInt(t(p).width()),f=t(e).attr("data-responsa"),N=t(p).width()/d,h=t(p).width()*n,v=N-c,W="10000%";return 1===n?!1:(t(s).addClass("selected"),1===d?(t(i).each(function(e){t(this).attr("data-pos",e)}),t(l).width(h),t(i).width(N),console.log("Create: Slider")):(f&&t.each(JSON.parse(f),function(t,e){return u<parseInt(t,0)?(d=parseInt(e,0),N=u/d,h=u*n,v=N,!1):void 0}),t(i).width(v),t(l).width(W),console.log("Create: Carrossel")),setTimeout(function(){Wapp.carrosselNiced.ResetControls(e),Wapp.carrosselNiced.Controls(e)},500),void(0===r.count&&Wapp.carrosselNiced.Continuous(e)))},Wapp.carrosselNiced.ResetControls=function(e){e?(t(e+" .control").remove(),t(e+" .bullet").remove()):(t(r.control).remove(),t(r.bulletButton).remove())},Wapp.carrosselNiced.Controls=function(e){var a="";if("true"===t(e).attr("data-nav")){var r=t(e+" .block").height()/2-20,n=t(e).attr("data-left")?'<span class="'+t(e).attr("data-left")+'">':"left",o=t(e).attr("data-right")?'<span class="'+t(e).attr("data-right")+'">':"right";a+='<div class="control" style="margin-top:'+r+'px;">',a+='<button class="prev" data-id="'+e+'">',a+=n,a+="</button>",a+='<button class="next" data-id="'+e+'">',a+=o,a+="</button>",a+="</div>",t(e).append(a),a=""}if("true"===t(e).attr("data-bullet")&&"1"===t(e).attr("data-view")){var s;a+='<div class="bullet">',"true"===t(e).attr("data-caption")?(t(e).addClass("caption"),t(e+" .content li").each(function(r){a+='<button data-pos="'+r+'" data-id="'+e+'">'+t(this).attr("data-title")+"</button>"})):t(e+" .content li").each(function(t){a+='<button data-pos="'+t+'" data-id="'+e+'">'+t+"</button>"}),a+="</div>",t(e).append(a),a="",s=t(e+" .bullet button")[0],t(s).addClass("selected")}},Wapp.carrosselNiced.Continuous=function(e){"true"===t(e).attr("data-auto")&&Wapp.carrosselNiced.SetInterVal(e)},Wapp.carrosselNiced.SetInterVal=function(e){r.interval[e.replace("#","")]=setInterval(function(){Wapp.carrosselNiced.Next(e)},t(e).attr("data-delay"))},Wapp.carrosselNiced.Clear=function(t){clearInterval(r.interval[t.replace("#","")])},Wapp.carrosselNiced.PrevSet=function(e){var a;a="SPAN"===t(e.target).prop("tagName")?t(e.target).parent().attr("data-id"):t(e.target).attr("data-id"),Wapp.carrosselNiced.Clear(a),Wapp.carrosselNiced.Prev(e,a)},Wapp.carrosselNiced.Prev=function(e,a){var r=(t(a).attr("data-view"),t(a+" .content li").length),n=t(a+" .content li")[0],o=t(a+" .content li")[r-1],s=t(a+" .content li").width(),c="noClass",l=0;return"true"===t(a).attr("data-effect")&&(c=Wapp.carrosselNiced.Rand()),console.log("first",n),console.log("last",o),l=t(a).attr("data-transition"),t(a).addClass(c),t(n).before(t(o)),t(a+" .content").css("margin-left","-"+s+"px"),t(a+" .content").stop().animate({"margin-left":0},l,function(){t(a).removeClass(c),t(n).addClass("selected"),Wapp.carrosselNiced.ChangeSelected(e,a)}),!1},Wapp.carrosselNiced.NextSet=function(e){var a;a="SPAN"===t(e.target).prop("tagName")?t(e.target).parent().attr("data-id"):t(e.target).attr("data-id"),Wapp.carrosselNiced.Clear(a),Wapp.carrosselNiced.Next(a)},Wapp.carrosselNiced.Next=function(e){var a,r,n,o="",s=0,c="noClass",l=0;a="string"==typeof e?e:t(e.target).attr("data-id"),o=t(a+" .content li").length,r=t(a+" .content li")[0],n=t(a+" .content li")[o-1],s=t(a+" .content li").width(),l=t(a).attr("data-transition"),"true"===t(a).attr("data-effect")&&(c=Wapp.carrosselNiced.Rand()),t(a).addClass(c),t(a+" .content").stop().animate({"margin-left":"-"+s+"px"},l,function(){t(a+" .content").css("margin-left",0),t(n).after(t(r)),t(a).removeClass(c),Wapp.carrosselNiced.ChangeSelected(e,a)})},Wapp.carrosselNiced.ChangeBullet=function(e){var a=t(e.target).attr("data-id"),r=t(e.target).attr("data-pos"),n=t(a+" .content li").length,o=t(a+" .content li.selected"),s="",c=t(a+" .content li.selected"),l=t(a+" .content li")[n-1],i=t(a+" .content li").width(),d="noClass",p=t(a).attr("data-transition");return t(a+" .content li.selected").attr("data-pos")===r?!1:(Wapp.carrosselNiced.Clear(a),t(a+" .content li").each(function(){t(this).attr("data-pos")===r&&(s=t(this))}),"true"===t(a).attr("data-effect")&&(d=Wapp.carrosselNiced.Rand()),t(a).addClass(d),t(o).after(t(s)),void t(a+" .content").stop().animate({"margin-left":"-"+i+"px"},p,function(){t(a).removeClass(d),t(this).css("margin-left",0),t(l).after(t(c)),Wapp.carrosselNiced.ChangeSelected(e,a)}))},Wapp.carrosselNiced.ChangeSelected=function(e,a){var r=t(a+" .content li")[0],n=parseInt(t(r).attr("data-pos"),0),o=t(a+" .bullet button")[n];n=t(e.target).attr("data-pos"),t(a+" .content li").removeClass("selected"),t(a+" .bullet button").removeClass("selected"),t(r).addClass("selected"),t(o).addClass("selected")},Wapp.carrosselNiced.Rand=function(){var t=r.animateClass[Math.floor(Math.random()*r.animateClass.length)];return t},t(e).ready(function(){setTimeout(function(){console.log("INIT: C A R R O S S E L N I C E D - V.0.4"),Wapp.carrosselNiced.Init(!0)},20)})}(jQuery,document,window);